#!/bin/bash
echo "**************************************************************************************************"
echo "         Kubernetes cluster"       
echo "**************************************************************************************************"
kubectl cluster-info
echo " "
minikube status
echo " "
echo "**************************************************************************************************"
echo "         Node"
echo "**************************************************************************************************"
kubectl get nodes
echo " "
echo "**************************************************************************************************"
echo "         Deployment"
echo "**************************************************************************************************"
echo " "
kubectl get deployment -o wide
echo " "
kubectl describe deployment flaskapp-deployment
echo " "
echo "**************************************************************************************************"
echo "        Service"
echo "**************************************************************************************************"
echo " "
kubectl get service -o wide
echo " "
kubectl describe service flaskapp-service
echo " "
echo "**************************************************************************************************"
echo "        Pods"
echo "**************************************************************************************************"
echo " "
kubectl get pods -o wide
echo " "
kubectl describe pod
echo "**************************************************************************************************"
echo "        Generate servive URL"
echo "**************************************************************************************************"
minikube service flaskapp-service --url
echo "**************************************************************************************************"
echo "        check that app is accessible by port forwarding"
echo "**************************************************************************************************"
echo " "
curl localhost:8888